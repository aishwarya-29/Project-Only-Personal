<head>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css"
        integrity="sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh" crossorigin="anonymous">
    <link rel="stylesheet" type="text/css" href="/css/gallery/carousal.css">
    <link href="https://fonts.googleapis.com/css2?family=Anton&family=Lato&family=Bangers&display=swap"
        rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Staatliches&display=swap" rel="stylesheet">
</head>

<% var j = 1; %>
<% for(var x = 0; x< memories.length; x++) { memory = memories[x]; %>
<div class="my-5 text-center container" id="memory">
    <p id="date" style="float: right" data-aos="zoom-in">
        <%= memory.dateOfEntry.getDate(); %>
        <%= memory.dateOfEntry.toLocaleString('default', { month: 'short' }); %>
        <%= memory.dateOfEntry.getFullYear(); %>
    </p>
    <h1 style="display: none;" id = "id"><%=memory._id%></h1>
    <h1 class="title"><%=memory.title %></h1>
    <input type="text" id="title" value="<%=memory.title%>">
    <br>
    <br>
    <br>
    <p class="desc"><%=memory.description%>
    </p>
    <textarea id="desc"><%=memory.description%></textarea>
    <br>
    <button class="btn btn-success done">Done!</button>
    <div class="row d-flex align-items-center">
        <div class="col-1 d-flex align-items-center justify-content-center">
            <a href="#carouselExampleIndicators<%=j%>" role="button" data-slide="prev">
                <div class="carousel-nav-icon">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 129 129"
                        xmlns:xlink="http://www.w3.org/1999/xlink">
                        <path
                            d="m88.6,121.3c0.8,0.8 1.8,1.2 2.9,1.2s2.1-0.4 2.9-1.2c1.6-1.6 1.6-4.2 0-5.8l-51-51 51-51c1.6-1.6 1.6-4.2 0-5.8s-4.2-1.6-5.8,0l-54,53.9c-1.6,1.6-1.6,4.2 0,5.8l54,53.9z" />
                    </svg>
                </div>
            </a>
        </div>
        <div class="col-10" id="car">
            <!--Start carousel-->
            <div id="carouselExampleIndicators<%=j%>" class="carousel slide" data-interval="false">
                <div class="carousel-inner">
                    <% var i = 0; %>
                    <div class="carousel-item active">
                        <div class="row">
                            <% if(i< memory.images.length) { %>
                            <div class="col-12 col-md d-flex align-items-center justify-content-center">
                                <img src="image/<%=memory.images[i]%>">
                                <% i = i+1 %>
                            </div>
                            <% } %>
                            <% if(i< memory.images.length) { %>
                            <div class="col-12 col-md d-flex align-items-center justify-content-center">
                                <img src="image/<%=memory.images[i]%>">
                                <% i = i+1 %>
                            </div>
                            <% } %>
                        </div>
                    </div>
                    <% while(i < memory.images.length) { %>
                    <div class="carousel-item">
                        <div class="row">
                            <% if(i< memory.images.length) { %>
                            <div class="col-12 col-md d-flex align-items-center justify-content-center">
                                <img src="image/<%=memory.images[i]%>">
                                <% i = i+1 %>
                            </div>
                            <% } %>
                            <% if(i< memory.images.length) { %>
                            <div class="col-12 col-md d-flex align-items-center justify-content-center">
                                <img src="image/<%=memory.images[i]%>">
                                <% i = i+1 %>
                            </div>
                            <% } %>
                        </div>
                    </div>
                    <% } %>
                </div>
            </div>
            <!--End carousel-->
        </div>
        <div class="col-1 d-flex align-items-center justify-content-center"><a href="#carouselExampleIndicators<%=j%>"
                data-slide="next">
                <div class="carousel-nav-icon">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 129 129"
                        xmlns:xlink="http://www.w3.org/1999/xlink">
                        <path
                            d="m40.4,121.3c-0.8,0.8-1.8,1.2-2.9,1.2s-2.1-0.4-2.9-1.2c-1.6-1.6-1.6-4.2 0-5.8l51-51-51-51c-1.6-1.6-1.6-4.2 0-5.8 1.6-1.6 4.2-1.6 5.8,0l53.9,53.9c1.6,1.6 1.6,4.2 0,5.8l-53.9,53.9z" />
                    </svg>
                </div>
            </a>
        </div>
    </div>
    <% if(isLoggedIn) { %>
    <form id="frm" action="/gallery/<%=memory._id%>/delete" method="POST">
    <button type="submit"class="btn btn-sm btn-danger delete"><span><i class="far fa-trash-alt"></i></span></button>
    </form>
    <button class="btn btn-sm btn-info edit"><span><i class="far fa-edit"></i></span></button>
    <% } %>
</div>
<% j = j+1; %>
<% }  %>

<script>
    $('[data-slide-to=0').trigger('click');
</script>
<script type="text/javascript" src="https://code.jquery.com/jquery-3.5.1.min.js"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js"
    integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl" crossorigin="anonymous">
</script>
<script type="text/javascript" src="../scripts/gallery/carousal.js"></script>
